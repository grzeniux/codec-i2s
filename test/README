
# CODEC-I2S - Testy automatyczne (Robot Framework)

Ten projekt wykorzystuje [Robot Framework](https://robotframework.org/) do testowania funkcjonalnoÅ›ci systemu odtwarzacza MP3 opartego na ESP32. Testy czytajÄ… logi printowane na UART, komunikujÄ…c siÄ™ bezpoÅ›rednio z urzÄ…dzeniem. Do symulacji klikania przycisku uÅ¼yto innego mikrokontrolera, ktÃ³ry wystawia odpowiednie stany logiczne.



## ğŸ§© Zakres testÃ³w

PoniÅ¼ej znajduje siÄ™ lista dostÄ™pnych testÃ³w automatycznych do ESP32, ktÃ³re sprawdzajÄ… kluczowe funkcje odtwarzacza audio:

| Test                           | Opis                                                                                   |
|-------------------------------|-----------------------------------------------------------------------------------------|
| `VERIFY_AUTO_NEXT`            | Czeka aÅ¼ piosenka siÄ™ skoÅ„czy i sprawdza, czy pojawiÅ‚ siÄ™ log `AUTO_NEXT`.            |
| `VERIFY_NEXT_AND_PREV_BUTTONS`| Symuluje klikniÄ™cia przyciskÃ³w `NEXT` i `PREV`, a nastÄ™pnie analizuje logi.           |
| `VERIFY_PLAY_PAUSE_TOGGLE`    | Dwukrotnie przeÅ‚Ä…cza `PLAY/PAUSE` i weryfikuje odpowiednie akcje w logach.            |
| `MEASURE_BOOT_TIMES_OVER_10_RUNS` | Wykonuje 10 restartÃ³w ESP32 i zapisuje czas wstania systemu (`millis`).             |
| `VERIFY_VOLUME_CONTROL`       | Testuje zwiÄ™kszanie i zmniejszanie gÅ‚oÅ›noÅ›ci â€“ logi powinny zawieraÄ‡ zmiany `volume`. |



---

## ğŸ“‚ Struktura katalogu `test/`

- `lib/` â€“ biblioteki pomocnicze do obsÅ‚ugi UARTa, GPIO oraz ekstrakcji danych z logÃ³w.
- `robot/` â€“ pliki z wÅ‚aÅ›ciwymi przypadkami testowymi `.robot`.
- `run_tests_venv/` â€“ lokalne Å›rodowisko wirtualne do izolowanego uruchamiania testÃ³w.
- `robotTestsOutput/` â€“ domyÅ›lny folder z wynikami testÃ³w (`log.html`, `report.html`, `output.xml`).
- `run_tests.bat` â€“ gÅ‚Ã³wny skrypt do uruchamiania testÃ³w.
- `activate_venv.bat` â€“ skrypt do tworzenia i aktywowania Å›rodowiska oraz instalowania zaleÅ¼noÅ›ci.
- `req.txt` â€“ lista zaleÅ¼noÅ›ci Pythona
---


### â–¶ï¸ Uruchamianie testÃ³w

1. Uruchom `activate_venv.bat`, by aktywowaÄ‡ Å›rodowisko wirtualne.
2. NastÄ™pnie wykonaj `run_tests.bat`, by uruchomiÄ‡ testy z tagiem `i2s`.

Wyniki znajdziesz w katalogu `test/robotTestsOutput` (`log.html`, `report.html`, `output.xml`).
